<section class="py-12 bg-white">
  <div class="max-w-8xl mx-auto px-4">
    <div class="flex flex-row gap-8">
      {% for block in section.blocks %}
        {% assign odd_step = forloop.index0 | modulo: 2 %}

        <div class="flex flex-col items-center text-center flex-1">
          {% if odd_step == 0 %}
            <!-- Odd: text on top -->
            <div class="mb-6">
              <h3 class="text-lg font-bold text-gray-900">{{ block.settings.title }}</h3>
              <p class="mt-2 text-gray-600">{{ block.settings.description }}</p>
              <span class="mt-4 inline-block text-green-700 font-bold text-2xl">0{{ forloop.index }}</span>
            </div>

            <!-- Gap -->
            <div class="h-16 w-px bg-gray-300"></div>

            <!-- Image bottom -->
            <div class="bg-[#837755] rounded-lg p-6 flex items-center justify-center">
              {% if block.settings.icon != blank %}
                <img
                  height=""
                  width=""
                  src="{{ block.settings.icon | img_url: '300x300' }}"
                  alt="{{ block.settings.title }}"
                  class="w-24 h-24 object-contain">
              {% endif %}
            </div>

          {% else %}
            <!-- Even: image on top -->
            <div class="bg-[#837755] rounded-lg p-6 flex items-center justify-center mb-6">
              {% if block.settings.icon != blank %}
                <img
                  height=""
                  width=""
                  src="{{ block.settings.icon | img_url: '300x300' }}"
                  alt="{{ block.settings.title }}"
                  class="w-24 h-24 object-contain">
              {% endif %}
            </div>

            <!-- Gap -->
            <div class="h-16 w-px bg-gray-300"></div>

            <!-- Text bottom -->
            <div>
              <span class="inline-block text-green-700 font-bold text-2xl">0{{ forloop.index }}</span>
              <h3 class="text-lg font-bold text-gray-900">{{ block.settings.title }}</h3>
              <p class="mt-2 text-gray-600">{{ block.settings.description }}</p>
            </div>
          {% endif %}
        </div>
      {% endfor %}
    </div>
  </div>

</section>

{% schema %}
  {
    "name": "Vertical Zigzag Timeline",
    "settings": [],
    "blocks": [
      {
        "type": "step",
        "name": "Step",
        "settings": [
          {
            "type": "image_picker",
            "id": "icon",
            "label": "Step Icon"
          }, {
            "type": "text",
            "id": "title",
            "label": "Step Title",
            "default": "Step Title"
          }, {
            "type": "textarea",
            "id": "description",
            "label": "Step Description",
            "default": "Elit lacus vivamus sollicitudin sapien congue accusantium doloremque laudantium."
          }
        ]
      }
    ],
    "max_blocks": 6,
    "presets": [
      {
        "name": "Vertical Zigzag Timeline",
        "category": "Custom"
      }
    ]
  }
{% endschema %}